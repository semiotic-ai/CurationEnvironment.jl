<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Welfare Maximisation in the Community Signal Model · CurationEnvironment.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link rel="canonical" href="https://semiotic-ai/CurationEnvironment.jl/experiments/communitysignal/welfare_maximisation/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../democards/listtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">CurationEnvironment.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><a class="tocitem" href="../../">Experiments</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Welfare Maximisation in the Community Signal Model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Welfare Maximisation in the Community Signal Model</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/main/docs/experiments/communitysignal/welfare_maximisation.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="cs_wm"><a class="docs-heading-anchor" href="#cs_wm">Welfare Maximisation in the Community Signal Model</a><a id="cs_wm-1"></a><a class="docs-heading-anchor-permalink" href="#cs_wm" title="Permalink"></a></h1><p><a href="../welfare_maximisation.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/julia-1.7.0-blue.svg" alt="compat"/> <a href="https://github.com/anirudh2"><img src="https://img.shields.io/badge/Author-Anirudh%20Patel-blue" alt="Author"/></a> <img src="https://img.shields.io/date/1659484800" alt="Update time"/></p><p>Welfare maximisation is defined as in the <a href="https://www.overleaf.com/read/hfymjbjmzwvf">Curation v2</a> yellowpaper. The main idea is that a welfare-maximising state is one in which curators that value subgraph most own the shares and the minimum viable signal is met for all curators Generally speaking, as we shall see, there exist equilibria for the Community Signal (CS) model of curation that are not welfare-maximising.</p><p>Seed for reproducibility</p><pre><code class="language-julia hljs">const seed = 343
using Random
Random.seed!(seed)

using CurationEnvironment
using Accessors</code></pre><p>Constants</p><pre><code class="language-julia hljs">const feerate = 0.05
const t = τ(feerate)
const num_t = 150  # timesteps
const m = CommunitySignal()
const num_s = 1  # subgraphs
const num_c = 5  # curators
const π = best_response</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">best_response (generic function with 4 methods)</code></pre><p>Create the curators and subgraph In this experiment, the curators have unlimited budget. We can make this assumption due to signal renting.</p><pre><code class="language-julia hljs">const v̂lows = (1000.0, 500.0, 1500.0, 1750.0, 0.0)
const v̂highs = (2500.0, 4000.0, 2000.0, 2000.0, 3500.0, 3000.0)
const shares = (0.0, 0.0, 0.0, 0.0, 0.0)
const stakes = (10000.0, 10000.0, 10000.0, 10000.0, 10000.0)
cs = map(1:num_c, v̂lows, v̂highs, shares, stakes)  do i, vl, vh, ς, σ
        return MinMaxCurator{num_s,Int64,Float64}(i, (vl,), (vh,), (ς,), σ)
    end
s = Subgraph(1, 500.0, 500.0, t)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Subgraph{Int64, Float64}(1, 500.0, 500.0, 0.052631578947368425)</code></pre><p>We can look at the generated curators</p><pre><code class="language-julia hljs">@show cs</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">5-element Vector{MinMaxCurator{1, Int64, Float64}}:
 MinMaxCurator{1, Int64, Float64}(Curator{1, Int64, Float64}(1, (2500.0,), (0.0,), 10000.0), (1000.0,))
 MinMaxCurator{1, Int64, Float64}(Curator{1, Int64, Float64}(2, (4000.0,), (0.0,), 10000.0), (500.0,))
 MinMaxCurator{1, Int64, Float64}(Curator{1, Int64, Float64}(3, (2000.0,), (0.0,), 10000.0), (1500.0,))
 MinMaxCurator{1, Int64, Float64}(Curator{1, Int64, Float64}(4, (2000.0,), (0.0,), 10000.0), (1750.0,))
 MinMaxCurator{1, Int64, Float64}(Curator{1, Int64, Float64}(5, (3500.0,), (0.0,), 10000.0), (0.0,))</code></pre><p>And the generated subgraph</p><pre><code class="language-julia hljs">@show s</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Subgraph{Int64, Float64}(1, 500.0, 500.0, 0.052631578947368425)</code></pre><p>Now we run the following experiment. At each timestep, curators play a greedy strategy to try to maximise their utility. We see at the end of this if the curator who values the subgraph the most owns all the new shares on the subgraph. Note that since we start with 500 shares on the subgraph, they won&#39;t own all the shares on the subgraph. Since the curators all have unlimited budgets, if the mechanism is welfare-maximising, we shouldn&#39;t have multiple curators curating the subgraph at the end of the this process.</p><pre><code class="language-julia hljs">is = collect(1:num_c)
for _ in 1:num_t
    i = rand(is)
    c = cs[i]
    nc, ns = CurationEnvironment.step(m, π, c, s)
    global cs = @set cs[i] = nc
    global s = ns
end</code></pre><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.19 on <span class="colophon-date" title="Wednesday 3 August 2022 19:17">Wednesday 3 August 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
