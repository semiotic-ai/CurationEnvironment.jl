<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · CurationEnvironment.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://semiotic-ai/CurationEnvironment.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>CurationEnvironment.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/main/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="CurationEnvironment"><a class="docs-heading-anchor" href="#CurationEnvironment">CurationEnvironment</a><a id="CurationEnvironment-1"></a><a class="docs-heading-anchor-permalink" href="#CurationEnvironment" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/Semiotic Labs/CurationEnvironment.jl">CurationEnvironment</a>.</p><ul><li><a href="#CurationEnvironment.Auction"><code>CurationEnvironment.Auction</code></a></li><li><a href="#CurationEnvironment.CRSPE"><code>CurationEnvironment.CRSPE</code></a></li><li><a href="#CurationEnvironment.CurationModel"><code>CurationEnvironment.CurationModel</code></a></li><li><a href="#CurationEnvironment.Curator"><code>CurationEnvironment.Curator</code></a></li><li><a href="#CurationEnvironment.DoubleCRSPE"><code>CurationEnvironment.DoubleCRSPE</code></a></li><li><a href="#CurationEnvironment.GraphEntity"><code>CurationEnvironment.GraphEntity</code></a></li><li><a href="#CurationEnvironment.MinMaxCurator"><code>CurationEnvironment.MinMaxCurator</code></a></li><li><a href="#CurationEnvironment.Subgraph"><code>CurationEnvironment.Subgraph</code></a></li><li><a href="#CurationEnvironment.auction-Union{Tuple{C}, Tuple{T}, Tuple{CRSPE, Vector{T}, Vector{C}, Subgraph, Transaction}} where {T&lt;:Real, C&lt;:Curator}"><code>CurationEnvironment.auction</code></a></li><li><a href="#CurationEnvironment.best_response-Tuple{CommunitySignal, MinMaxCurator, Subgraph}"><code>CurationEnvironment.best_response</code></a></li><li><a href="#CurationEnvironment.best_response-Tuple{CRSPE{CommunitySignal}, MinMaxCurator, Subgraph}"><code>CurationEnvironment.best_response</code></a></li><li><a href="#CurationEnvironment.best_response-Tuple{CommunitySignal, Real, Real, Real, Real, Real}"><code>CurationEnvironment.best_response</code></a></li><li><a href="#CurationEnvironment.best_response-Tuple{CRSPE{CommunitySignal}, Real, Real, Real, Real, Real, Real}"><code>CurationEnvironment.best_response</code></a></li><li><a href="#CurationEnvironment.best_response-Tuple{CommunitySignal, Curator, Subgraph}"><code>CurationEnvironment.best_response</code></a></li><li><a href="#CurationEnvironment.best_response-Tuple{CommunitySignal, Real, Real, Real, Real, Real, Real}"><code>CurationEnvironment.best_response</code></a></li><li><a href="#CurationEnvironment.bopt-Tuple{CommunitySignal, Real, Real, Real}"><code>CurationEnvironment.bopt</code></a></li><li><a href="#CurationEnvironment.burntokens-Union{Tuple{C}, Tuple{T}, Tuple{DoubleCRSPE, Vector{T}, Vector{C}, Subgraph}} where {T&lt;:Real, C&lt;:Curator}"><code>CurationEnvironment.burntokens</code></a></li><li><a href="#CurationEnvironment.burntokens-Union{Tuple{C}, Tuple{T}, Tuple{CRSPE, Vector{T}, Vector{C}, Subgraph}} where {T&lt;:Real, C&lt;:Curator}"><code>CurationEnvironment.burntokens</code></a></li><li><a href="#CurationEnvironment.curate-Tuple{CurationModel, Real, CurationEnvironment.AbstractCurator, Subgraph}"><code>CurationEnvironment.curate</code></a></li><li><a href="#CurationEnvironment.equity_proportion-Tuple{CommunitySignal, Real, Subgraph}"><code>CurationEnvironment.equity_proportion</code></a></li><li><a href="#CurationEnvironment.equity_proportion-Tuple{CommunitySignal, Real, Real, Real}"><code>CurationEnvironment.equity_proportion</code></a></li><li><a href="#CurationEnvironment.id-Tuple{GraphEntity}"><code>CurationEnvironment.id</code></a></li><li><a href="#CurationEnvironment.latefees-Tuple{CommunitySignal, Real, Subgraph}"><code>CurationEnvironment.latefees</code></a></li><li><a href="#CurationEnvironment.minttokens-Union{Tuple{C}, Tuple{T}, Tuple{CRSPE, Vector{T}, Vector{C}, Subgraph}} where {T&lt;:Real, C&lt;:Curator}"><code>CurationEnvironment.minttokens</code></a></li><li><a href="#CurationEnvironment.multiple_bidders-Union{Tuple{C}, Tuple{T}, Tuple{CRSPE, Vector{T}, Vector{C}, Subgraph, Transaction}} where {T&lt;:Real, C&lt;:Curator}"><code>CurationEnvironment.multiple_bidders</code></a></li><li><a href="#CurationEnvironment.payment-Tuple{CommunitySignal, Real, Subgraph}"><code>CurationEnvironment.payment</code></a></li><li><a href="#CurationEnvironment.payment-Tuple{CommunitySignal, Real, Real, Real}"><code>CurationEnvironment.payment</code></a></li><li><a href="#CurationEnvironment.popt-Tuple{CommunitySignal, Real, Real, Real}"><code>CurationEnvironment.popt</code></a></li><li><a href="#CurationEnvironment.shares-Tuple{CommunitySignal, Real, Subgraph}"><code>CurationEnvironment.shares</code></a></li><li><a href="#CurationEnvironment.shares-Tuple{CommunitySignal, Real, Real, Real, Real}"><code>CurationEnvironment.shares</code></a></li><li><a href="#CurationEnvironment.single_bidder-Union{Tuple{C}, Tuple{T}, Tuple{CRSPE, Vector{T}, Vector{C}, Subgraph, Transaction}} where {T&lt;:Real, C&lt;:Curator}"><code>CurationEnvironment.single_bidder</code></a></li><li><a href="#CurationEnvironment.step-Union{Tuple{C}, Tuple{F}, Tuple{CRSPE, Vector{F}, Vector{C}, Subgraph}} where {F&lt;:Function, C&lt;:Curator}"><code>CurationEnvironment.step</code></a></li><li><a href="#CurationEnvironment.step-Union{Tuple{C}, Tuple{F}, Tuple{DoubleCRSPE, Vector{F}, Vector{C}, Subgraph}} where {F&lt;:Function, C&lt;:Curator}"><code>CurationEnvironment.step</code></a></li><li><a href="#CurationEnvironment.step-Union{Tuple{A}, Tuple{F}, Tuple{CommunitySignal, F, Tuple{Vararg{A}}, Subgraph}} where {F&lt;:Function, A&lt;:CurationEnvironment.AbstractCurator}"><code>CurationEnvironment.step</code></a></li><li><a href="#CurationEnvironment.step-Union{Tuple{F}, Tuple{CommunitySignal, F, CurationEnvironment.AbstractCurator, Subgraph}} where F&lt;:Function"><code>CurationEnvironment.step</code></a></li><li><a href="#CurationEnvironment.utility-Tuple{CommunitySignal, Real, MinMaxCurator, Subgraph}"><code>CurationEnvironment.utility</code></a></li><li><a href="#CurationEnvironment.utility-Tuple{CommunitySignal, Real, Real, Real, Real, Real, Real}"><code>CurationEnvironment.utility</code></a></li><li><a href="#CurationEnvironment.τ-Tuple{Real}"><code>CurationEnvironment.τ</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.Auction" href="#CurationEnvironment.Auction"><code>CurationEnvironment.Auction</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Wrap a <a href="#CurationEnvironment.CurationModel"><code>CurationModel</code></a> in an auction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/domainmodel.jl#L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.CRSPE" href="#CurationEnvironment.CRSPE"><code>CurationEnvironment.CRSPE</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CRSPE(m::Model)</code></pre><p>A commit-reveal, second price auction has three stages:</p><ol><li>Bid: Each participant privately bids (perhaps multiple times) via hash</li></ol><p>commitment(s).</p><ol><li>Reveal: Bidders (optionally) deposit tokens equal to their bid with a</li></ol><p>hash verification.</p><ol><li>Allocate: The highest bidder is reimbursed the difference between their</li></ol><p>bid and the second highest bid and allocated shares in proportion to their payment. All others are reimbursed for their deposits.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/crspe.jl#L3-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.CurationModel" href="#CurationEnvironment.CurationModel"><code>CurationEnvironment.CurationModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Dynamics governing the interaction between a <a href="#CurationEnvironment.Subgraph"><code>Subgraph</code></a> and a <a href="#CurationEnvironment.Curator"><code>Curator</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/domainmodel.jl#L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.Curator" href="#CurationEnvironment.Curator"><code>CurationEnvironment.Curator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Curator &lt;: AbstractCurator</code></pre><p>Signal tokens on a <a href="#CurationEnvironment.Subgraph"><code>Subgraph</code></a> as per a private valuation.</p><p><code>Curator</code> is an entity that signals tokens on a <a href="#CurationEnvironment.Subgraph"><code>Subgraph</code></a> to demonstrate the value of the subgraph to indexers. Curators are paid via query fees when on a subgraph. Curator <code>id</code> estimates the subgraph valuations as <code>v̂s</code> and owns <code>ςs</code> shares on each subgraph. The curator has <code>σ</code> stake to spend.</p><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">Curator{M,S,T}(
    id::&lt;:Integer,
    vs::NTuple{M,T},
    ςs::NTuple{M,T},
    σ::T
) where {S&lt;:Integer, T&lt;:Real}

Curator{M}(id::&lt;:Integer, ̂vs::NTuple{M,&lt;:Real}, ςs::NTuple{M,&lt;:Real}, σ::&lt;:Real)
Curator(id::&lt;:Integer, ̂vs::NTuple{M,&lt;:Real}, ςs::NTuple{M,&lt;:Real}, σ::&lt;:Real)
Curator{M}(id::&lt;:Integer, ̂v::&lt;:Real, ς::&lt;:Real, σ::&lt;:Real)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/curator.jl#L6-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.DoubleCRSPE" href="#CurationEnvironment.DoubleCRSPE"><code>CurationEnvironment.DoubleCRSPE</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DoubleCRSPE(m::CRSPE)</code></pre><p>The difference between <code>DoubleCRSPE</code> and <a href="#CurationEnvironment.CRSPE"><code>CRSPE</code></a> is that in <code>DoubleCRSPE</code>, we burn tokens as per a CRSPE auction as well.</p><p>This can be constructed by bypassing <code>CRSPE</code> and directly specifying the <a href="#CurationEnvironment.CurationModel"><code>CurationModel</code></a>. <code>DoubleCRSPE(CommunitySignal())</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/doublecrspe.jl#L3-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.GraphEntity" href="#CurationEnvironment.GraphEntity"><code>CurationEnvironment.GraphEntity</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A type of entity that interacts with The Graph protocol.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/domainmodel.jl#L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.MinMaxCurator" href="#CurationEnvironment.MinMaxCurator"><code>CurationEnvironment.MinMaxCurator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Curator &lt;: AbstractCurator</code></pre><p>A curator that has both a min and max valuation.</p><p><code>MinMaxCurator</code> is a <a href="#CurationEnvironment.Curator"><code>Curator</code></a> that has both a minimum valuation for each subgraph <code>v̂mins</code> and a maximum valuation per subgraph <code>v̂maxs</code>. Intuitively, <code>v̂min</code> for a subgraph is the minimum amount of signal you would want to see on a subgraph. <code>v̂max</code> is your true valuation of the subgraph. The other parameters are as given by <a href="#CurationEnvironment.Curator"><code>Curator</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/curator.jl#L82-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.Subgraph" href="#CurationEnvironment.Subgraph"><code>CurationEnvironment.Subgraph</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Subgraph &lt;: GraphEntity</code></pre><p>Blockchain data is organised into subgraphs.</p><p><code>Subgraph</code> is an entity on which curators signal tokens. Subgraph <code>id</code> has signal <code>v</code>, shares <code>ς</code> and late fee parameter of <code>τ</code>. <code>τ</code> is related to the late fee rate by <a href="#CurationEnvironment.τ-Tuple{Real}"><code>τ</code></a>.</p><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">Subgraph{S,T}(id::S, v::T, ς::T, τ::T) where {S&lt;:Integer,T&lt;:Real}
Subgraph(id::&lt;:Integer, v::&lt;:Real, ς::&lt;:Real, τ::&lt;:Real)</code></pre><p>See also <a href="#CurationEnvironment.Curator"><code>Curator</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/subgraph.jl#L1-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.auction-Union{Tuple{C}, Tuple{T}, Tuple{CRSPE, Vector{T}, Vector{C}, Subgraph, Transaction}} where {T&lt;:Real, C&lt;:Curator}" href="#CurationEnvironment.auction-Union{Tuple{C}, Tuple{T}, Tuple{CRSPE, Vector{T}, Vector{C}, Subgraph, Transaction}} where {T&lt;:Real, C&lt;:Curator}"><code>CurationEnvironment.auction</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">auction(m::CRSPE, bids::Vector{&lt;:Real}, cs::Vector{&lt;:Curator}, s::Subgraph)</code></pre><p>Runs a commit-reveal second-price auction to select which bid wins the right to curate on the subgraph. The curators <code>cs</code> make transactions <code>t</code> based on <code>bids</code> on the subgraph <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/crspe.jl#L93-L98">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.best_response-Tuple{CRSPE{CommunitySignal}, MinMaxCurator, Subgraph}" href="#CurationEnvironment.best_response-Tuple{CRSPE{CommunitySignal}, MinMaxCurator, Subgraph}"><code>CurationEnvironment.best_response</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">best_response(m::CRSPE{CommunitySignal}, c::MinMaxCurator, s::Subgraph)</code></pre><p>Find the best response for the min-max curator <code>c</code> on subgraph <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/crspe.jl#L48-L52">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.best_response-Tuple{CRSPE{CommunitySignal}, Real, Real, Real, Real, Real, Real}" href="#CurationEnvironment.best_response-Tuple{CRSPE{CommunitySignal}, Real, Real, Real, Real, Real, Real}"><code>CurationEnvironment.best_response</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">best_response(::CRSPE{CommunitySignal}, v::Real, v̂::Real, τ::Real, ξ::Real)</code></pre><p>Find the best response on the community signal model in a CRSPE auction for a subgraph with signal <code>v</code> and tax rate <code>τ</code> given the min-max curator believes the true value of the subgraph to be in the range <code>v̂min</code> and <code>v̂max</code>. The curator has the ratio <code>ξ</code> of the total shares on the subgraph and available stake <code>σ</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/crspe.jl#L25-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.best_response-Tuple{CommunitySignal, Curator, Subgraph}" href="#CurationEnvironment.best_response-Tuple{CommunitySignal, Curator, Subgraph}"><code>CurationEnvironment.best_response</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">best_response(m::CommunitySignal, c::Curator, s::Subgraph)</code></pre><p>Find the best response for curator <code>c</code> on subgraph <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/communitysignal.jl#L37-L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.best_response-Tuple{CommunitySignal, MinMaxCurator, Subgraph}" href="#CurationEnvironment.best_response-Tuple{CommunitySignal, MinMaxCurator, Subgraph}"><code>CurationEnvironment.best_response</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">best_response(m::CommunitySignal, c::MinMaxCurator, s::Subgraph)</code></pre><p>Find the best response for the min-max curator <code>c</code> on subgraph <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/communitysignal.jl#L63-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.best_response-Tuple{CommunitySignal, Real, Real, Real, Real, Real, Real}" href="#CurationEnvironment.best_response-Tuple{CommunitySignal, Real, Real, Real, Real, Real, Real}"><code>CurationEnvironment.best_response</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">best_response(m::CommunitySignal, v::Real, v̂min::Real,
              v̂max::Real τ::Real, ξ::Real, σ::Real)</code></pre><p>Find the best response on the community signal model for a subgraph with signal <code>v</code> and tax rate <code>τ</code> given the min-max curator believes the true value of the subgraph to be in the range <code>v̂min</code> and <code>v̂max</code>. The curator has the ratio <code>ξ</code> of the total shares on the subgraph and available stake <code>σ</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/communitysignal.jl#L46-L54">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.best_response-Tuple{CommunitySignal, Real, Real, Real, Real, Real}" href="#CurationEnvironment.best_response-Tuple{CommunitySignal, Real, Real, Real, Real, Real}"><code>CurationEnvironment.best_response</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">best_response(m::CommunitySignal, v::Real, v̂::Real, τ::Real, ξ::Real, σ::Real)</code></pre><p>Find the best response on the community signal model for a subgraph with signal <code>v</code> and tax rate <code>τ</code> given the curator believes the true value of the subgraph to be <code>v̂</code>. The curator has the ratio <code>ξ</code> of the total shares on the subgraph and available stake <code>σ</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/communitysignal.jl#L23-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.bopt-Tuple{CommunitySignal, Real, Real, Real}" href="#CurationEnvironment.bopt-Tuple{CommunitySignal, Real, Real, Real}"><code>CurationEnvironment.bopt</code></a> — <span class="docstring-category">Method</span></header><section><div><p>The optimal value to burn.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/communitysignal.jl#L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.burntokens-Union{Tuple{C}, Tuple{T}, Tuple{CRSPE, Vector{T}, Vector{C}, Subgraph}} where {T&lt;:Real, C&lt;:Curator}" href="#CurationEnvironment.burntokens-Union{Tuple{C}, Tuple{T}, Tuple{CRSPE, Vector{T}, Vector{C}, Subgraph}} where {T&lt;:Real, C&lt;:Curator}"><code>CurationEnvironment.burntokens</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">burntokens(m::CRSPE, ps::Vector{&lt;:Real}, cs::Vector{&lt;:Curator}, s::Subgraph)</code></pre><p>Curators <code>cs</code> who have negative payment in <code>ps</code> will burn tokens on the subgraph <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/crspe.jl#L125-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.burntokens-Union{Tuple{C}, Tuple{T}, Tuple{DoubleCRSPE, Vector{T}, Vector{C}, Subgraph}} where {T&lt;:Real, C&lt;:Curator}" href="#CurationEnvironment.burntokens-Union{Tuple{C}, Tuple{T}, Tuple{DoubleCRSPE, Vector{T}, Vector{C}, Subgraph}} where {T&lt;:Real, C&lt;:Curator}"><code>CurationEnvironment.burntokens</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">burntokens(m::DoubleCRSPE, ps::Vector{&lt;:Real}, cs::Vector{&lt;:Curator}, s::Subgraph)</code></pre><p>Curators <code>cs</code> who have negative payment in <code>ps</code> will burn tokens on the subgraph <code>s</code>. In a DoubleCRSPE auction, they will burn tokens in a CRSPE auction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/doublecrspe.jl#L21-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.curate-Tuple{CurationModel, Real, CurationEnvironment.AbstractCurator, Subgraph}" href="#CurationEnvironment.curate-Tuple{CurationModel, Real, CurationEnvironment.AbstractCurator, Subgraph}"><code>CurationEnvironment.curate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">curate(m::CurationModel, p::Real, c::Curator, s::Subgraph)</code></pre><p>A curator <code>c</code> curates tokens <code>p</code> on subgraph <code>s</code> as per model <code>m</code>.</p><p>See also <a href="#CurationEnvironment.Subgraph"><code>Subgraph</code></a>, <a href="#CurationEnvironment.Curator"><code>Curator</code></a>, <a href="#CurationEnvironment.CurationModel"><code>CurationModel</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/domainmodel.jl#L41-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.equity_proportion-Tuple{CommunitySignal, Real, Real, Real}" href="#CurationEnvironment.equity_proportion-Tuple{CommunitySignal, Real, Real, Real}"><code>CurationEnvironment.equity_proportion</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">equity_proportion(::CommunitySignal, p::Real, v::Real, τ::Real)</code></pre><p>The proportion of equity on a subgraph with signal <code>v</code> the curator will receive by paying amount <code>p</code> with tax rate <code>τ</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/communitysignal.jl#L170-L175">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.equity_proportion-Tuple{CommunitySignal, Real, Subgraph}" href="#CurationEnvironment.equity_proportion-Tuple{CommunitySignal, Real, Subgraph}"><code>CurationEnvironment.equity_proportion</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">equity_proportion(model::CommunitySignal, p::Real, s::Subgraph)</code></pre><p>The proportion of equity on a subgraph <code>s</code> the curator will receive by paying amount <code>p</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/communitysignal.jl#L185-L190">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.id-Tuple{GraphEntity}" href="#CurationEnvironment.id-Tuple{GraphEntity}"><code>CurationEnvironment.id</code></a> — <span class="docstring-category">Method</span></header><section><div><p>The <code>id</code> of the <a href="#CurationEnvironment.GraphEntity"><code>GraphEntity</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/domainmodel.jl#L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.latefees-Tuple{CommunitySignal, Real, Subgraph}" href="#CurationEnvironment.latefees-Tuple{CommunitySignal, Real, Subgraph}"><code>CurationEnvironment.latefees</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">latefees(m::CommunitySignal, p::Real, s::Subgraph)</code></pre><p>The late fees a curator makes for paying <code>p</code> on subgraph <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/communitysignal.jl#L106-L110">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.minttokens-Union{Tuple{C}, Tuple{T}, Tuple{CRSPE, Vector{T}, Vector{C}, Subgraph}} where {T&lt;:Real, C&lt;:Curator}" href="#CurationEnvironment.minttokens-Union{Tuple{C}, Tuple{T}, Tuple{CRSPE, Vector{T}, Vector{C}, Subgraph}} where {T&lt;:Real, C&lt;:Curator}"><code>CurationEnvironment.minttokens</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">minttokens(m::CRSPE, ps::Vector{&lt;:Real}, cs::Vector{&lt;:Curator}, s::Subgraph)</code></pre><p>Curators <code>cs</code> who have positive payment in <code>ps</code> will mint tokens on the subgraph <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/crspe.jl#L113-L117">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.multiple_bidders-Union{Tuple{C}, Tuple{T}, Tuple{CRSPE, Vector{T}, Vector{C}, Subgraph, Transaction}} where {T&lt;:Real, C&lt;:Curator}" href="#CurationEnvironment.multiple_bidders-Union{Tuple{C}, Tuple{T}, Tuple{CRSPE, Vector{T}, Vector{C}, Subgraph, Transaction}} where {T&lt;:Real, C&lt;:Curator}"><code>CurationEnvironment.multiple_bidders</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">multiple_bidders(m::CRSPE, bids::Vector{&lt;:Real}, cs::Vector{&lt;:Curator}, s::Subgraph)</code></pre><p>When there are multiple bidders, the bidder who is willing to pay the most pays the price of the second-highest bid. The curators <code>cs</code> make transaction <code>t</code> based on <code>bids</code> on the subgraph <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/crspe.jl#L76-L80">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.payment-Tuple{CommunitySignal, Real, Real, Real}" href="#CurationEnvironment.payment-Tuple{CommunitySignal, Real, Real, Real}"><code>CurationEnvironment.payment</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">payment(::CommunitySignal, x::Real, v::Real, τ::Real)</code></pre><p>The payment needed to capture or burn <code>x</code> proportion of the equity for a subgraph with valuation <code>v</code> and tax rate <code>τ</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/communitysignal.jl#L145-L150">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.payment-Tuple{CommunitySignal, Real, Subgraph}" href="#CurationEnvironment.payment-Tuple{CommunitySignal, Real, Subgraph}"><code>CurationEnvironment.payment</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">payment(model::CommunitySignal, x::Real, s::Subgraph)</code></pre><p>The payment needed to capture <code>x</code> proportion of the equity for a subgraph <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/communitysignal.jl#L160-L165">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.popt-Tuple{CommunitySignal, Real, Real, Real}" href="#CurationEnvironment.popt-Tuple{CommunitySignal, Real, Real, Real}"><code>CurationEnvironment.popt</code></a> — <span class="docstring-category">Method</span></header><section><div><p>The optimal value to mint.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/communitysignal.jl#L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.shares-Tuple{CommunitySignal, Real, Real, Real, Real}" href="#CurationEnvironment.shares-Tuple{CommunitySignal, Real, Real, Real, Real}"><code>CurationEnvironment.shares</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shares(model::CommunitySignal, x::Real, s::Real, v::Real, τ::Real)</code></pre><p>How many new shares were minted when a curator executes a new transaction for equity proportion <code>x</code> on a subgraph with shares <code>ς</code>, signal <code>v</code> and tax rate <code>τ</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/communitysignal.jl#L195-L200">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.shares-Tuple{CommunitySignal, Real, Subgraph}" href="#CurationEnvironment.shares-Tuple{CommunitySignal, Real, Subgraph}"><code>CurationEnvironment.shares</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shares(model::CommunitySignal, x::Real, s::Subgraph)</code></pre><p>How many new shares were minted when a curator executes a new transaction for equity proportion <code>x</code> on a subgraph <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/communitysignal.jl#L211-L216">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.single_bidder-Union{Tuple{C}, Tuple{T}, Tuple{CRSPE, Vector{T}, Vector{C}, Subgraph, Transaction}} where {T&lt;:Real, C&lt;:Curator}" href="#CurationEnvironment.single_bidder-Union{Tuple{C}, Tuple{T}, Tuple{CRSPE, Vector{T}, Vector{C}, Subgraph, Transaction}} where {T&lt;:Real, C&lt;:Curator}"><code>CurationEnvironment.single_bidder</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">single_bidder(m::CRSPE, bids::Vector{&lt;:Real}, cs::Vector{&lt;:Curator}, s::Subgraph)</code></pre><p>When there is only a single bidder, the bidder wins the auction. The curators <code>cs</code> make transaction <code>t</code> based on <code>bids</code> on the subgraph <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/crspe.jl#L58-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.step-Union{Tuple{A}, Tuple{F}, Tuple{CommunitySignal, F, Tuple{Vararg{A}}, Subgraph}} where {F&lt;:Function, A&lt;:CurationEnvironment.AbstractCurator}" href="#CurationEnvironment.step-Union{Tuple{A}, Tuple{F}, Tuple{CommunitySignal, F, Tuple{Vararg{A}}, Subgraph}} where {F&lt;:Function, A&lt;:CurationEnvironment.AbstractCurator}"><code>CurationEnvironment.step</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">step(m::CommunitySignal, π::Function, c::Tuple{AbstractCurator}, s::Subgraph)</code></pre><p>Curators <code>cs</code> decide how much to curate on subgraph <code>s</code> by running the policy <code>π</code>.</p><p>Note that the order in which the curators execute is randomised each time <code>step</code> is called.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/communitysignal.jl#L126-L132">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.step-Union{Tuple{C}, Tuple{F}, Tuple{CRSPE, Vector{F}, Vector{C}, Subgraph}} where {F&lt;:Function, C&lt;:Curator}" href="#CurationEnvironment.step-Union{Tuple{C}, Tuple{F}, Tuple{CRSPE, Vector{F}, Vector{C}, Subgraph}} where {F&lt;:Function, C&lt;:Curator}"><code>CurationEnvironment.step</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">step(m::CRSPE, πs::Vector{&lt;:Function}, cs::Vector{&lt;:Curator}, s::Subgraph) → Tuple{Tuple{Curator}, Subgraph}</code></pre><p>The curators <code>cs</code> bid in a CRSPE auction on subgraph <code>s</code> according to policies <code>πs</code>.</p><p>NOTE: Here, since we use a step function rather than async exec, the policies are executed together. This may be a bad assumption as burning can happen between auctions, whereas minting can only happen at discrete intervals with auctions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/crspe.jl#L143-L151">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.step-Union{Tuple{C}, Tuple{F}, Tuple{DoubleCRSPE, Vector{F}, Vector{C}, Subgraph}} where {F&lt;:Function, C&lt;:Curator}" href="#CurationEnvironment.step-Union{Tuple{C}, Tuple{F}, Tuple{DoubleCRSPE, Vector{F}, Vector{C}, Subgraph}} where {F&lt;:Function, C&lt;:Curator}"><code>CurationEnvironment.step</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">step(m::DoubleCRSPE, πs::Vector{&lt;:Function}, cs::Vector{&lt;:Curator}, s::Subgraph) → Tuple{Tuple{Curator}, Subgraph}</code></pre><p>The curators <code>cs</code> bid in a Double CRSPE auction on subgraph <code>s</code> according to policies <code>πs</code>.</p><p>NOTE: Here, since we use a step function rather than async exec, the policies are executed together. This may be a bad assumption as burning can happen between auctions, whereas minting can only happen at discrete intervals with auctions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/doublecrspe.jl#L34-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.step-Union{Tuple{F}, Tuple{CommunitySignal, F, CurationEnvironment.AbstractCurator, Subgraph}} where F&lt;:Function" href="#CurationEnvironment.step-Union{Tuple{F}, Tuple{CommunitySignal, F, CurationEnvironment.AbstractCurator, Subgraph}} where F&lt;:Function"><code>CurationEnvironment.step</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">step(m::CommunitySignal, π::Function, c::AbstractCurator, s::Subgraph)</code></pre><p>Curator <code>c</code> decides how much to curate on subgraph <code>s</code> by running the policy <code>π</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/communitysignal.jl#L115-L119">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.utility-Tuple{CommunitySignal, Real, MinMaxCurator, Subgraph}" href="#CurationEnvironment.utility-Tuple{CommunitySignal, Real, MinMaxCurator, Subgraph}"><code>CurationEnvironment.utility</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">utility(m::CommunitySignal, p::Real, c::MinMaxCurator, s::Subgraph)</code></pre><p>Utility on for payment <code>p</code> on subgraph <code>s</code> for the min-max curator <code>c</code> for model <code>m</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/communitysignal.jl#L95-L99">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.utility-Tuple{CommunitySignal, Real, Real, Real, Real, Real, Real}" href="#CurationEnvironment.utility-Tuple{CommunitySignal, Real, Real, Real, Real, Real, Real}"><code>CurationEnvironment.utility</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">utility(m::CommunitySignal, p::Real, v̂min::Real, v̂max::Real, v::Real, τ::Real, ξ::Real)</code></pre><p>Utility on for payment <code>p</code> for the min-max curator <code>c</code> for model <code>m</code> for a subgraph with signal <code>v</code> and tax rate <code>τ</code> given the min-max curator believes the true value of the subgraph to be in the range <code>v̂min</code> and <code>v̂max</code>. The curator has the ratio <code>ξ</code> of the total shares on the subgraph and available stake <code>σ</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/communitysignal.jl#L74-L81">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CurationEnvironment.τ-Tuple{Real}" href="#CurationEnvironment.τ-Tuple{Real}"><code>CurationEnvironment.τ</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Compute the fee parameter from the fee rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/semiotic-ai/CurationEnvironment.jl/blob/6046152e9396909c3283ca4c69ab60e03872b573/src/domainmodel.jl#L38">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.19 on <span class="colophon-date" title="Saturday 30 July 2022 20:03">Saturday 30 July 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
